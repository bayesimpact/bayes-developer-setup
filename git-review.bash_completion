#!bash
#
# bash completion support for git-review
#
# Copy this file in /usr/share/bash-completion/completions/git-review
# TODO(cyrille): Add doc to install on MacOS.

_git_review()
{
  local cur=${COMP_WORDS[COMP_CWORD]}
  local reviewers="$(hub api -t repos/{owner}/{repo}/assignees | grep login | cut -f 2)"
  # TODO(cyrille): Allow multiple reviewers separated by a comma.
  COMPREPLY=( $(compgen -W "$reviewers" -- $cur) )
}

